const contactForm=document.getElementById("contactForm");contactForm&&contactForm.addEventListener("submit",(async function(e){e.preventDefault();const t=e.target,o=new FormData(t);try{(await fetch("https://formspree.io/f/xqadrken",{method:"POST",body:o,headers:{Accept:"application/json"}})).ok?(document.getElementById("msg").innerText="Thanks for reaching out! We’ll get back to you shortly.",t.reset()):document.getElementById("msg").innerText="Sorry, we couldn’t send your message. Please try again in a moment."}catch(e){document.getElementById("msg").innerText="⚠ Network error."}}));const schForm=document.querySelector(".navbar form"),schInput=schForm.querySelector("input");schInput.style.display="none",schForm.querySelector("button").onclick=()=>{schInput.style.display="none"===schInput.style.display?"inline-block":"none"},document.querySelector(".navbar form").addEventListener("submit",(e=>{e.preventDefault(),window.location.href=`/home.html#search?q=${encodeURIComponent(document.querySelector(".navbar form input").value)}`}));const bcards=document.querySelector(".bottom-cards");let scrollInterval;function startAutoScroll(){scrollInterval||(scrollInterval=setInterval((()=>{bcards&&(bcards.scrollLeft+bcards.clientWidth<bcards.scrollWidth-1?bcards.scrollBy({left:250,behavior:"auto"}):bcards.scrollTo({left:0,behavior:"smooth"}))}),2e3))}function stopAutoScroll(){clearInterval(scrollInterval),scrollInterval=null}startAutoScroll(),bcards.addEventListener("mouseover",stopAutoScroll),bcards.addEventListener("touchstart",stopAutoScroll),bcards.addEventListener("mouseout",startAutoScroll),bcards.addEventListener("touchend",startAutoScroll),document.getElementById("sideSearch").addEventListener("keyup",(e=>{"Enter"===e.key&&(window.location.href="/home.html#search?q="+encodeURIComponent(e.target.value))}));const toggle=document.querySelector("#toggle"),toggleBtn=document.querySelector("[for='toggle']");function initializeTheme(){const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;"dark"===(e||(t?"dark":"light"))?document.documentElement.classList.add("dark-theme"):document.documentElement.classList.remove("dark-theme")}toggle.addEventListener("input",(e=>{e.target.checked?toggleBtn.innerHTML="&times;":toggleBtn.textContent="☰"})),document.querySelector(".search-loader").style.display="flex",window.addEventListener("load",(()=>{document.querySelector(".loader").classList.add("hidden"),setTimeout((()=>document.querySelector(".search-loader").style.display="none"),100)})),document.getElementById("topSch").addEventListener("invalid",(function(){this.setCustomValidity("Enter to search")})),document.getElementById("topSch").addEventListener("input",(function(){this.setCustomValidity("")})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{localStorage.getItem("theme")||initializeTheme()}));const themeToggle=document.getElementById("theme-toggle");"dark"===localStorage.getItem("theme")&&document.documentElement.classList.add("dark-theme"),themeToggle.addEventListener("click",(function(){document.documentElement.classList.toggle("dark-theme"),document.documentElement.classList.contains("dark-theme")?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")}));const scrollBack=document.querySelector(".scroll-btn");window.addEventListener("scroll",(function(){window.pageYOffset>=300?scrollBack.classList.add("show"):scrollBack.classList.remove("show")})),scrollBack.addEventListener("click",(e=>{window.scrollTo({top:0,behavior:"smooth"})}));const sections=document.querySelectorAll(".section-contain section"),observer=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("animate")}))}),{threshold:.2});sections.forEach((e=>observer.observe(e))),document.documentElement.addEventListener("mousedown",(()=>{document.getElementById("toggle").checked=!1,document.querySelector("[for='toggle']").textContent="☰"}));const currentPage=window.location.pathname;document.querySelectorAll(".side-menu a").forEach((e=>{e.getAttribute("href")===currentPage&&e.classList.add("active")})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".hero-title");setTimeout((()=>{e.classList.add("loaded")}),500);const t=[["Build","Amazing","Projects","Faster"],["Buy","Sell","Code","Templates"],["Discover","Premium","Snippets","Plugins"],["Turn","Your","Code","Into Income"],["Create","Share","Earn","Repeat"]];let o=1;setInterval((function(){const n=e.querySelectorAll(".title-word");if(e){const e=t[o];n.forEach(((t,o)=>{setTimeout((()=>{t.style.opacity="0",t.style.transform="translateY(-20px) scale(0.8)",t.style.filter="blur(4px)"}),80*o),setTimeout((()=>{t.textContent=e[o],t.style.transform="translateY(20px) scale(0.8)",setTimeout((()=>{t.style.opacity="1",t.style.transform="translateY(0) scale(1)",t.style.filter="blur(0px)"}),50)}),400+80*o)})),o=(o+1)%t.length}}),3500)})),document.querySelector("footer .footer-bottom p:first-child").innerHTML=`&copy; ${(new Date).getFullYear()} - DevTemple. All Rights Reserved.`;
